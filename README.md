# –ü–∞—Ä—Å–µ—Ä –≤–∞–∫–∞–Ω—Å–∏–π Head Hunter 




–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–µ—Ä–∏—é –ø–∞—Ä—Å–µ—Ä–∞ –∏ –±–æ—Ç–∞, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–æ –¥–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Python –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL. –ü—Ä–æ–µ–∫—Ç —É–ø–∞–∫–æ–≤–∞–Ω –≤ Docker –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º docker-compose –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
- Docker
- PostgreSQL
- –õ—é–±–∞—è IDE (Pycharm,VS Code)
  
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. *–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü—ã*

–û—Ç–∫—Ä–æ–π—Ç–µ `psql` –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –ó–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö –∏ –∑–∞—Ç–µ–º –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —É–∫–∞–∑—ã–≤–∞–ª–∏ –≤ –º–∞—Å—Ç–µ—Ä–µ –∑–∞–≥—Ä—É–∑–∫–∏ PostgreSQL:

```terminal
Server [localhost]: localhost
Database [postgres]: postgres
Port [9999]: 9999
Username [postgres]: postgres
–ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres:
   ```
–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã —É—Å–ø–µ—à–Ω–æ –≤–æ–π–¥—ë—Ç–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö  `postgres`, –≤–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```SQL
CREATE DATABASE job_vacancies;
   ```
–û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–Ω–æ–≤–æ `psql` –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤—Ö–æ–¥, —É–∫–∞–∑–∞–≤ –≤ —Å—Ç—Ä–æ–∫–µ `Database` –Ω–µ `postgres`, –∞ `job_vacancies`:

```terminal
Server [localhost]: localhost
Database [postgres]: job_vacancies
Port [9999]: 9999
Username [postgres]: postgres
–ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres:
   ```
–¢–µ–ø–µ—Ä—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –æ—Å—Ç–∞–ª–æ—Å—å –≤–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —Å–∫—Ä–∏–ø—Ç:

```SQL
CREATE TABLE vacancies (
    hh_id VARCHAR(255) PRIMARY KEY,
    name TEXT,
    area_name TEXT,
    employer TEXT, 
    salary_from NUMERIC,
    salary_to NUMERIC,
    salary_currency TEXT,
    experience TEXT,
    schedule TEXT,
    url TEXT
);
   ```
–ì–æ—Ç–æ–≤–æ. –ù–∞—à–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞)
2. *–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤*

   2.1. –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ `parser.py`, –∏—Å—Ö–æ–¥—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Å–æ–∑–¥–∞–ª–∏. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

   ```python
   DB_CONFIG = {
       'dbname': 'job_vacancies',
       'user': 'postgres',
       'password': 'postgres1234',
       'host': 'localhost'
   }
   ```
   2.2. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram, –∏—Å–ø–æ–ª—å–∑—É—è https://t.me/BotFather. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞–º –¥–æ–ª–∂–Ω—ã –¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω. –í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ `bot_parser.py` –≤–º–µ—Å—Ç–æ –Ω–∞–¥–ø–∏—Å–∏ –≤ –∫–∞–≤—ã—á–∫–∞—Ö:

   ```python
   TOKEN = '–ù–ï –ó–ê–ë–£–î–¨–¢–ï –í–°–¢–ê–í–ò–¢–¨ –¢–û–ö–ï–ù'
   ```
   2.3. –°–∫–∞—á–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

   ```terminal
   pip install requests psycopg2-binary pyTelegramBotAPI unittest2 schedule pandas
   ```
   2.4 –î–ª—è –Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `parser.py`. –í —Å–∞–º–æ–º –Ω–∏–∑—É —Ñ–∞–π–ª–∞ –Ω–∞–π–¥–∏—Ç–µ:
   
    ```python
   if __name__ == '__main__':
    schedule.every(3).days.at("00:00").do(job)
    while True:
        schedule.run_pending()
        time.sleep(60)
   ```
   –ò –∏—Å–ø—Ä–∞–≤—å—Ç–µ –Ω–∞:

    ```python
   if __name__ == '__main__':
    logging.info("–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ main –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.")
    main()
   ```
   –ù–∞–º –Ω—É–∂–Ω–æ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤–∞–∫–∞–Ω—Å–∏–π –∏ –∑–∞–ø–∏—Å–∏ –∏—Ö –≤ –±–¥, —Ç–∞–∫ –∫–∞–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–∞—Ä—Å–∏–Ω–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ —Ç—Ä–∏ –¥–Ω—è.

3. *–ó–∞–ø—É—Å–∫*
  
   –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `parser.py`. –ü–æ—Å–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è `–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö` –∑–∞–ø—É—Å—Ç–∏—Ç–µ `bot_parser.py` –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –±–æ—Ç—É, —Ç–æ–∫–µ–Ω –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —É–∫–∞–∑–∞–ª–∏. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `Start` –∏ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –±–æ—Ç–æ–º –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ.
   –¢–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ–≥—Ä–∞–º–º—É `pgAdmin` –≤—ã –º–æ–∂–µ—Ç–µ —É–∏–¥–µ—Ç—å —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É –∏ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ–π, –≤–≤–µ–¥—è –∫–æ–º–∞–Ω–¥—É:

   ```SQL
   SELECT * FROM vacancies;
   ```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é Docker üêã

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ. –í–æ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤:

- `parser.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø–∞—Ä—Å–µ—Ä–∞.
- `bot_parser.py` - —Ñ–∞–π–ª –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ.
- `test_parser.py` - —Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞.
- `test_bot_parser.py` - —Ç–µ—Å—Ç—ã –¥–ª—è –±–æ—Ç-–ø–∞—Ä—Å–µ—Ä–∞.
- `Dockerfile.parser` - Dockerfile –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞.
- `Dockerfile.bot_parser` - Dockerfile –¥–ª—è –±–æ—Ç–∞-–ø–∞—Ä—Å–µ—Ä–∞.
- `Dockerfile.test_parser` - Dockerfile –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ä—Å–µ—Ä–∞.
- `Dockerfile.test_bot_parser` - Dockerfile –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –±–æ—Ç-–ø–∞—Ä—Å–µ—Ä–∞.
- `requirements.txt` - —Ñ–∞–π–ª —Å –ø–µ—Ä–µ—á–Ω–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python.
- `docker-compose.yml` - —Ñ–∞–π–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–≥–æ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º–∏ Docker –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
- `job_vacancies.csv` - CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö.
- `Dockerfile.job_vacancies` - Dockerfile –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö.

*–í–Ω–µ—Å—ë–º –Ω–µ–±–æ–ª—å—à–µ –ø—Ä–∞–≤–∫–∏ –≤ —Ñ–∞–π–ª `docker-compose.yml`. –í —Å–∞–º–æ–º –Ω–∏–∑—É –Ω–∞–π–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–π —Ñ—Ä–≥–∞–º–µ–Ω—Ç –∫–æ–¥–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–µ–Ω–Ω–æ –≤–∞—à–∏–º:*

```docker-compose.yml
   db:
    image: postgres:12
    environment:
      POSTGRES_DB: devdb
      POSTGRES_USER: devuser
      POSTGRES_PASSWORD: devpass
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - app-network
    ports:
      - "5432:5432"
   ```

*–í–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è Docker Compose –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤*

–î–ª—è –Ω–∞—á–∞–ª–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø–µ—Ä–µ–π–¥—ë–º –≤ –ø–∞–ø–∫—É –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É `cd \–ø—É—Ç—å\–¥–æ\–ø–∞–ø–∫–∏`. –ó–∞—Ç–µ–º –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è Docker Compose –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```—Ç–µ—Ä–º–∏–Ω–∞–ª
   docker-compose up --build
   ```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ—è–≤—è—Ç—Å—è –Ω–∞–¥–ø–∏—Å–∏ –Ω–∏–∂–µ, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–π—Ç–∏ –≤ Docker –∏ –≤–æ –≤–∫–ª–∞–¥–∫–µ  `Images` —É–≤–∏–¥–µ—Ç—å –≤–∞—à–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã –∏ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏.

 ‚úî Container uchebpraktika-parser-1           Created                                                              0.0s
 
 ‚úî Container uchebpraktika-db-1               Created                                                              0.0s
 
 ‚úî Container uchebpraktika-bot_parser-1       Created                                                              0.0s
 
 ‚úî Container uchebpraktika-test_parser-1      Created                                                              0.0s
 
 ‚úî Container uchebpraktika-test_bot_parser-1  Created                                                              0.0s


## –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º

–í–∞—à –ø—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä—ë—Ç –¥–∞–Ω–Ω—ã–µ, –∞ –±–æ—Ç –Ω–∞—á–Ω—ë—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Å–æ–±—ã—Ç–∏—è.



## –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º—ã–π –ê–≤—Ç–æ—Ä

* *Gera* - *–û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫* - [–ü—Ä–æ—Ñ–∏–ª—å](https://github.com/yageraaa)

